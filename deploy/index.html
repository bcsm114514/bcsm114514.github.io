<!DOCTYPE html>
<html lang="zh-CN">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>éƒ¨ç½²æŒ‡å— - Blazemark Blog</title>
  <link rel="stylesheet" href="/static/css/style.css" />
  <script defer src="/static/js/theme.js"></script>
</head>
<body class="theme-light">
  <header class="site-header">
    <div class="header-inner">
      <div class="site-branding">
        <h1 class="site-title"><a href="https://bcsm114514.github.io">Blazemark Blog</a></h1>
        
        <p class="site-subtitle">ç”¨ Python æé€Ÿç”Ÿæˆé™æ€åšå®¢</p>
        
      </div>
      <nav class="site-nav">
        <ul>
        
          <li><a href="/">é¦–é¡µ</a></li>
        
          <li><a href="/tag/">æ ‡ç­¾</a></li>
        
          <li><a href="/category/">åˆ†ç±»</a></li>
        
          <li><a href="/archives/">å½’æ¡£</a></li>
        
        </ul>
      </nav>
      <button class="theme-toggle" aria-label="åˆ‡æ¢ä¸»é¢˜">ğŸŒ“</button>
    </div>
    
  </header>

  <main class="site-main">
    <div class="content-inner">
      
  <article class="post-full">
    <h1 class="post-full-title">éƒ¨ç½²æŒ‡å—</h1>
    <div class="post-full-meta">
      <time>2025-10-02</time>
      
        <span class="tags">
          
            <a href="/tag/Blazemark">Blazemark</a>
          
        </span>
        <span class="category">
          
        </span>        
      
    </div>
    <div class="post-content">
      <h1>Deployéƒ¨ç½²æŒ‡å—</h1>
<h2>1ï¸âƒ£ å‡†å¤‡å·¥ä½œ</h2>
<p><strong>1. ç”Ÿæˆ SSH Key</strong></p>
<pre><code class="language-bash">ssh-keygen -t ed25519 -C &quot;github-actions-deploy&quot; -f blazemark_deploy_key
</code></pre>
<p>ä¼šç”Ÿæˆ blazemark_deploy_key å’Œ blazemark_deploy_key.pub</p>
<p><strong>2. æ·»åŠ å…¬é’¥åˆ° GitHub ä»“åº“</strong></p>
<ul>
<li>
<p>æ‰“å¼€ä½ çš„ GitHub ä»“åº“(username.github.io) â†’ Settings â†’ Deploy keys â†’ Add deploy key</p>
</li>
<li>
<p>Title å¡«ï¼šBlazemark Deploy Key</p>
</li>
</ul>
<p>Paste å…¬é’¥å†…å®¹ blazemark_deploy_key.pub</p>
<p>å‹¾é€‰ &quot;Allow write access&quot; âœ…</p>
<p><strong>3. æ·»åŠ ç§é’¥åˆ° GitHub Secrets</strong></p>
<ul>
<li>
<p>æ‰“å¼€ä»“åº“ â†’ Settings â†’ Secrets and variables â†’ Actions â†’ New repository secret</p>
</li>
<li>
<p>Name: DEPLOY_KEY</p>
</li>
<li>
<p>Value: å¤åˆ¶ç§é’¥ blazemark_deploy_key å†…å®¹</p>
</li>
</ul>
<hr />
<h2>2ï¸âƒ£ GitHub é…ç½®</h2>
<p><strong>1. å¤åˆ»æ¨¡æ¿</strong></p>
<ul>
<li>ç‚¹å‡»<strong>Use this template</strong>å¤åˆ»<a href="https://github.com/bcsm114514/Blazemark">æ¨¡æ¿</a></li>
</ul>
<p><strong>2. ç¼–è¾‘Actions</strong></p>
<ul>
<li>æ‰“å¼€<code>.github/workflows/deploy.yml</code></li>
</ul>
<pre><code class="language-yaml">name: Deploy Blazemark Blog

on:
  push:
    branches:
      - main   # å½“ main åˆ†æ”¯æœ‰æ›´æ–°æ—¶è§¦å‘

jobs:
  build-and-deploy:
    runs-on: ubuntu-latest

    steps:
      # 1. æ£€å‡ºä»£ç 
      - name: Checkout repository
        uses: actions/checkout@v4

      # 2. è®¾ç½® Python
      - name: Set up Python
        uses: actions/setup-python@v4
        with:
          python-version: &quot;3.11&quot;

      # 3. å®‰è£…ä¾èµ–
      - name: Install dependencies
        run: |
          python -m pip install --upgrade pip
          pip install -r requirements.txt || echo &quot;No requirements.txt found&quot;

      # 4. æ„å»º Blazemark é™æ€ç«™ç‚¹
      - name: Build site
        run: |
          python blazemark.py build --force

      # 5. éƒ¨ç½²åˆ° GitHub Pages
      - name: Deploy to Github Pages
        env:
          DEPLOY_KEY: ${{ secrets.DEPLOY_KEY }}
        run: |
          mkdir -p ~/.ssh
          echo &quot;$DEPLOY_KEY&quot; &gt; ~/.ssh/id_ed25519
          chmod 600 ~/.ssh/id_ed25519
          ssh-keyscan github.com &gt;&gt; ~/.ssh/known_hosts
  
          cd public
          git init
          git config user.name &quot;github-actions[bot]&quot;
          git config user.email &quot;github-actions[bot]@users.noreply.github.com&quot;
          git branch -M main
          git remote add origin git@github.com:username/username.github.io.git
          git add .
          git commit -m &quot;Deploy site via GitHub Actions&quot;
          git push -f origin main
</code></pre>
<p>å°†æ–‡ä»¶ä¸­çš„usernameæ”¹æˆå®é™…çš„ç”¨æˆ·å</p>
<h3>ğŸ”¹ è¯´æ˜</h3>
<p>Build è¿‡ç¨‹ï¼š</p>
<p><code>python blazemark.py build --force</code> ä¼šé‡æ–°ç”Ÿæˆæ‰€æœ‰é¡µé¢</p>
<p>SSH éƒ¨ç½²ï¼š</p>
<p>ä½¿ç”¨ DEPLOY_KEY ç§é’¥è®¤è¯</p>
<p>å¼ºåˆ¶æ¨é€ <code>git push -f origin main</code>ï¼Œä¿è¯è¦†ç›–è¿œç¨‹ä»“åº“å†…å®¹</p>
<p>åˆ†æ”¯ï¼š</p>
<p>è¿œç¨‹ä»“åº“é»˜è®¤ <code>main</code>ï¼Œå¦‚æœä¸æ˜¯ï¼Œè¯·ä¿®æ”¹ <code>deploy.yml</code> ä¸­ <code>main</code> ä¸ºç›®æ ‡åˆ†æ”¯</p>
<p>æ³¨æ„: è®°å¾—å¼€å¯Pagesä»“åº“çš„GitHub PagesåŠŸèƒ½</p>
<hr />
<h2>3ï¸âƒ£ éƒ¨ç½²è‡³å…¶ä»–å¹³å°</h2>
<ul>
<li>åœ¨å…¶ä»–å¹³å°é€‰æ‹©æœ€ç»ˆé™æ€æ–‡ä»¶ä»“åº“å³å¯(å¯ä¸ºç§åº“)</li>
<li>ä½¿ç”¨å…¶ä»–æ”¯æŒPythonçš„å¹³å°</li>
<li>æ‰‹åŠ¨ä¸Šä¼ </li>
</ul>

    </div>
    <div class="post-footer-nav">
      
      
    </div>
  <p><em>å­—æ•°ç»Ÿè®¡: 448 å­—</em></p></article>

  <!-- å¼•å…¥ Prism.js -->
  <link href="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/themes/prism-tomorrow.min.css" rel="stylesheet" />
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/prism.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-python.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-javascript.min.js"></script>
  <script src="https://cdnjs.cloudflare.com/ajax/libs/prism/1.30.0/components/prism-markup.min.js"></script>

    </div>
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <p>Â© 2025 Blazemark Blog. All Rights Reserved.</p>
      <p>
        <a href="/rss.xml">RSS</a> |
        <a href="/sitemap.xml">Sitemap</a>
      </p>
      <p>Powered by blazemark / theme: BlazeMark</p>
    </div>
  </footer>
</body>
</html>